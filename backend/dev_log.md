# 开发日志

## 20250803-1

1. 优化了matlab内的function分布，位于脚本的末端以正确运行
2. 优化了csv表头，全英文以解决兼容性问题
3. 初步创建了后端flask
   1. 运行setup_env.sh脚本，初始化conda环境以及安装依赖
   <!-- 2. 运行start.sh脚本，启动后端服务 -->
4. 数据库postgresql
   1. 打开pgadmin（注意需要安装postgis），运行create_road.sql，会执行以下流程
      1. 使用文件夹res下的outputroad.csv进行路网的创建，注意设置路径
      2. 创建节点表
      3. 创建路段表
      4. 导入csv到表
      5. 生成空间字段（geom）
      6. 检查结果

## 20250804-1

1. 完成了后端flask的基本框架以及天气基本逻辑
   1. 使用create_weather.sql创建了天气表,以及创建key表存api,安全性比写在后端高一点
   2. 后端可以获取天气信息,本身是每半个小时,暂时还有点bug,但获取是可以获取,读取数据库查key,根据citycode和api获取天气信息,然后更新到数据库,前端请求时可以获取到数据库最新的天气,然后渲染表格.
   3. 因为主要的缩放没调，所以我暂时也没调格式，只是说调用是正常的，后端接口也是可用的。
   4. 并且存入了天气图标.

## 20250804-2

1. 初步进行蚁群算法的“蟒蛇化”
   1. 将matlab的蚁群算法转换为python，性能需要优化，且暂时没有处理断头路，或容易陷入局部最优解。
   2. config.yaml最主要用于设置初始变量以及文件路径。
   3. test文件夹目前放置了测试用例，主要是测试接口是否可以调用蚁群算法，可以运行。
   4. 优化了gitignore，避免上传temp以及__蟒蛇擦车__。

## 20250806-1

存档，非主要更新。修复了天气错误分布，以及显示序列错误的问题，并优化显示逻辑。修复了网页非一页完整显示，右侧有滚动条的问题。目前已知有多个比例尺，属于错误显示，待修复。

## 20250806-2

1. 目前已经实现自动爬取比赛并且入库，前提是运行schema中的创建比赛表。之后运行app.serve即可。明天我直接重构显示的那一个小框。
